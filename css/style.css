/* Root variables for light/dark themes */
:root {
  --bg-color: #f5f7fb;
  --panel-bg: rgba(255,255,255,0.72);
  --text-color: #1f2937;
  --muted: #6b7280;
  --primary: #0d6efd;
  --glass-blur: 8px;
  --card-radius: 14px;

  /* select-specific defaults */
  --select-bg: rgba(255,255,255,0.98);
  --select-color: #1f2937;
  --select-placeholder-color: #6b7280;
  --select-option-bg: #ffffff;
  --select-option-color: #1f2937;
}

/* Dark theme overrides */
:root[data-theme="dark"], [data-theme="dark"] {
  --bg-color: #0b1220;
  --panel-bg: rgba(10,14,21,0.62);
  --text-color: #e6eef8;
  --muted: #9aa7bd;
  --primary: #57a5ff;
  --glass-blur: 6px;

  /* select colors for dark mode */
  --select-bg: rgba(255,255,255,0.03);
  --select-color: var(--text-color);
  --select-placeholder-color: var(--muted);
  --select-option-bg: #0f1724;
  --select-option-color: #e6eef8;
}

/* Page reset */
* { box-sizing: border-box; }
html,body { height: 100%; }
body {
  margin: 0;
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  background: var(--bg-color);
  color: var(--text-color);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow: hidden;
}

/* Background image container with subtle animated pan (Ken Burns) */
.bg-media {
  position: fixed;
  inset: 0;
  z-index: -2;
  background-size: cover;
  background-position: center center;
  transition: opacity 300ms ease;
}
.bg-media::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.26));
  pointer-events: none;
}

/* Pan animation to add gentle motion to a static image */
@keyframes bg-pan {
  0% { background-position: 50% 45%; }
  100% { background-position: 50% 55%; }
}
.bg-media {
  animation: bg-pan 18s ease-in-out infinite alternate;
}

/* Ensure UI stacks above the background */
.container-fluid { position: relative; z-index: 1; }

/* Top controls */
.top-controls {
  position: fixed;
  right: 18px;
  top: 18px;
  z-index: 50;
}

/* Fancy circular theme toggle (no text) */
.btn-theme-toggle {
  display: inline-grid;
  place-items: center;
  width: 44px;
  height: 44px;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  padding: 6px;
  color: white; /* icon color uses currentColor */
  background: linear-gradient(135deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
  box-shadow: 0 6px 18px rgba(2,6,23,0.18);
  transition: transform 160ms ease, box-shadow 160ms ease, background 200ms ease;
  backdrop-filter: blur(6px);
}
.btn-theme-toggle:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(2,6,23,0.22); }
.btn-theme-toggle:active { transform: translateY(-1px); }

/* Light / dark visual styles for the button */
.btn-theme-toggle.is-dark {
  /* when page is dark, show a warm gradient for the sun button */
  background: linear-gradient(135deg, #ffb74d, #ff8a65);
  color: #2b1a00;
}
:root:not([data-theme="dark"]) .btn-theme-toggle {
  /* when page is light, show subtle dark circular button for moon icon */
  background: linear-gradient(135deg, #2b2f36, #1b2026);
  color: #fff;
}

/* accessible focus ring */
.btn-theme-toggle:focus {
  outline: 3px solid rgba(13,110,253,0.16);
  outline-offset: 3px;
}

/* Main layout adjustments (kept from previous) */
.visual-panel { min-height: 70vh; color: white; }
.visual-inner { color: rgba(255,255,255,0.95); text-shadow: 0 6px 24px rgba(2,6,23,0.6); padding: 2rem; }
.logo-img { width: 84px; height: 84px; border-radius: 14px; background: rgba(255,255,255,0.08); padding: 8px; margin-bottom: 1rem; }

/* Auth card simplified */
.auth-card {
  width: 100%;
  max-width: 480px;
  border-radius: var(--card-radius);
  background: var(--panel-bg);
  box-shadow: 0 8px 24px rgba(2,6,23,0.12);
  padding: 1.6rem;
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: 1px solid rgba(0,0,0,0.06);
  position: relative;
  z-index: 2;
}
:root[data-theme="dark"] .auth-card, [data-theme="dark"] .auth-card {
  border: 1px solid rgba(255,255,255,0.04);
}

/* Headings & form */
.card-header h2 { color: var(--text-color); }
.card-header small { color: var(--muted); }
.form-control, .form-select {
  border-radius: 8px;
  border: 1px solid rgba(15,23,42,0.06);
  background: transparent;
  color: var(--text-color);
  padding: 0.9rem 0.75rem;
  font-size: 0.95rem;
}
.form-control:focus, .form-select:focus { box-shadow: 0 6px 18px rgba(13,110,253,0.08); outline: none; }
.form-floating label { color: var(--muted); }

/* Select visibility fixes */
.form-select {
  background-color: var(--select-bg);
  color: var(--select-color);
  -webkit-appearance: none;
  appearance: none;
  background-image:
    linear-gradient(45deg, transparent 50%, var(--select-color) 50%),
    linear-gradient(135deg, var(--select-color) 50%, transparent 50%);
  background-position: calc(100% - 18px) calc(0.9rem + 6px), calc(100% - 12px) calc(0.9rem + 6px);
  background-size: 6px 6px, 6px 6px;
  background-repeat: no-repeat;
}
.form-select option { color: var(--select-option-color); background-color: var(--select-option-bg); }
.form-select option[value=""], .form-select option[disabled][selected] { color: var(--select-placeholder-color); }

/* Password toggle & button */
.pwd-toggle { top: 10px; right: 10px; border: none; color: var(--primary); background: transparent; }
.btn-primary { background: linear-gradient(90deg, var(--primary), #2b8bff); border: none; box-shadow: 0 6px 18px rgba(11,103,217,0.12); padding: 0.6rem 1.1rem; border-radius: 10px; }

/* Responsive */
@media (max-width: 991px) { .visual-panel { display: none; } body { overflow: auto; } }
@media (max-width: 600px) { .form-select { padding: 0.75rem; } .bg-media { animation: none; } }

/* Small entrance */
.auth-card { transform: translateY(6px); animation: floatIn 420ms ease forwards; opacity: 0; }
@keyframes floatIn { to { transform: translateY(0); opacity: 1; } }

/* Accessibility */
button:focus, [role="button"]:focus { outline: 3px solid rgba(13,110,253,0.14); outline-offset: 2px; }
.text-muted { color: var(--muted) !important; }